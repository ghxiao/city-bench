CONNECTION osm1: host=localhost port=5432 dbname=osm_cork user=postgres password=secret
FILE f1: name=/Users/patrik/Desktop/OSM_Data/cork3/bm2_streets.owl
FILE f2: name=/Users/patrik/Desktop/OSM_Data/cork3/bm2_graph_nodes.owl
FILE f3: name=/Users/patrik/Desktop/OSM_Data/cork3/bm2_graph_edges.owl
FILE f4: name=/Users/patrik/Desktop/OSM_Data/cork3/bm2_banks_polices.owl
FILE f5: name=/Users/patrik/Desktop/OSM_Data/cork3/bm2_spatialrel.owl

SCRIPT s1: /Users/patrik/ITS/myits-svn/city-bench/tools/streetGraphReader.py
SCRIPT s2: /Users/patrik/ITS/myits-svn/city-bench/tools/transformOSMConcepts.py
SCRIPT s3: /Users/patrik/ITS/myits-svn/city-bench/tools/spatialRelationsReader.py

CONST c1: @prefix tuwt: <http://www.kr.tuwien.ac.at/myits/geoconcepts/terms#> .
CONST c2: @prefix tuwti: <http://www.kr.tuwien.ac.at/myits/geoconcepts/items#> .
CONST c3: @prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
CONST c4: @prefix owl: <http://www.w3.org/2002/07/owl#> .
CONST c5: @prefix dc: <http://purl.org/dc/elements/1.1/> .
CONST c6: @prefix gml: <http://www.opengis.net/gml/> .
CONST c7: @prefix  geo: <http://www.georss.org/georssl/> .
CONST c8: @base <http://www.kr.tuwien.ac.at/myits/geoconcepts/items#> .
CONST c9: gml:featurename rdf:type owl:DatatypeProperty .
CONST c10: geo:point rdf:type owl:DatatypeProperty .
CONST c11: geo:line rdf:type owl:DatatypeProperty .
CONST c12: geo:polygon rdf:type owl:DatatypeProperty .
CONST c13:  tuwt:connected rdf:type owl:ObjectProperty .

mappingId A0a
source const c1 c2 c3 c4 c5 c6 c7 c8 c9 c10 c11 c12 c13
target f1  {1}

mappingId A0b
source const c1 c2 c3 c4 c5 c6 c7 c8 c9 c10 c11 c12 c13
target f2  {1}

mappingId A0c
source const c1 c2 c3 c4 c5 c6 c7 c8 c9 c10 c11 c12 c13
target f3  {1}

mappingId A0d
source const c1 c2 c3 c4 c5 c6 c7 c8 c9 c10 c11 c12
target f4  {1}

mappingId A0e
source const c1 c2 c3 c4 c5 c6 c7 c8 c9 c10 c11 c12
target f5  {1}

mappingId A1
source osm1  SELECT osm_id, highway, ST_AsEWKT(way) from planet_osm_line where osm_id > 0 and highway IN ('residential', 'secondary', 'primary', 'tertiary')
transform s2 "highway" "2"
target f1  :{1} rdf:type {2}, owl:NamedIndividual;
	   		 geo:line "{3}"^^xsd:string .

mappingId A2
source s1 "nodes" "f1"
target f2 :{1} rdf:type tuwt:Point, owl:NamedIndividual;
       	       		geo:point "{3}"^^xsd:string;
     	        	tuwt:isPartOf {2}.

mappingId A3
source s1 "edges" "f1"
target f3  :{1} tuwt:connected :{2} .

mappingId A4
source osm1  SELECT osm_id, name, ST_AsEWKT(way) AS geo FROM planet_osm_point WHERE amenity = 'bank' AND name IS NOT NULL AND osm_id > 0
target f4  :{1} rdf:type tuwt:Bank, owl:NamedIndividual;
           gml:featurename "{2}"^^xsd:string;
	   geo:point "{3}"^^xsd:string .

mappingId A5
source osm1  SELECT osm_id, name, ST_AsEWKT(way) AS geo FROM planet_osm_point WHERE amenity = 'police' AND name IS NOT NULL AND osm_id > 0
target f4  :{1} rdf:type tuwt:Bank, owl:NamedIndividual;
           gml:featurename "{2}"^^xsd:string;
	   geo:point "{3}"^^xsd:string .

mappingId A6
source s3 "next" "f4" "f2" "0.0004"
target f5 {1}  tuwt:isLocatedNext {2} .


